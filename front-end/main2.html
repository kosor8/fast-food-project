<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Burgery Co&copy;</title>
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="main_style.css" />
  </head>
  <body>
    <audio id="intro-sound" src="sounds/jenerik.mp3" preload="auto"></audio>

    <!-- HEADER -->
    <div class="header-container">
      <div class="header-content">
        <img src="images/burgery.png" alt="Logo" class="header-logo-special" />
        
        <nav class="nav-links">
          <a href="main2.html">Burgery</a>
          <a href="menu.html">Menüler</a>
          <a href="iletisim.html">İletişim</a>
          <a href="konum.html">Konum</a>
        </nav>
    
        <div class="header-right">
          <div class="cart-icon"><a href="cart.html"><img src="images/sepet.png"></a></div>
          <div class="auth-links">
            <a href="login.html" id="auth-link">Giriş Yap</a>
            <a href="login.html" id="logout-link" >Çıkış Yap</a>
          </div>
        </div>
      </div>
    </div>
    <!----------------------------------------------------------------->

    <header class="hero">
      <video autoplay muted loop playsinline>
        <source src="videos/mcdonalds.mp4" type="video/mp4" />
        Tarayıcınız video etiketini desteklemiyor.
      </video>
      <div class="hero-content">
        <img src="images/burgery.png" alt="Logo" class="logo" />
      </div>
    </header>
    

    <section class="burger-katalog">
      <div class="ayin-urunleri-container">
        <h2 class="ayin-urunleri">AYIN EN FIRSATLI ÜRÜNLERİ:</h2>
      </div>
      <div class="katalog">
        <button class="geri">&#10094;</button>
        <div class="burger-wrapper">
          <div class="burger-item">
            <img
              src="images/burgers/inferno.jpg"
              alt="Inferno Burger"
              class="burger-image"
            />
            <div class="burger-bilgi">
              <h3 class="burger-isim">Inferno Burger</h3>
              <p class="burger-aciklama">
                <strong>Malzemeler:</strong><br />
                Alevde Pişirilmiş Dana Köfte<br />
                Erimiş Cheddar ve Gouda Peyniri<br />
                Jalapeno Biberi<br />
                Acı Chipotle Sos<br />
                Kırmızı Soğan Halkası<br />
                Çıtır Kavrulmuş Biber<br />
                Tereyağlı Brioche Ekmek
              </p>
            </div>
          </div>
          <div class="burger-item">
            <img
              src="images/burgers/gurme.jpg"
              alt="Gurme Umami Burger"
              class="burger-image"
            />
            <div class="burger-bilgi">
              <h3 class="burger-isim">Gurme Umami Burger</h3>
              <p class="burger-aciklama">
                <strong>Malzemeler:</strong><br />
                Kavrulmuş Briyoş Ekmek<br />
                Trüflü Aioli<br />
                Tereyağlı Marul<br />
                Eritilmiş Cheddar<br />
                Kızarmış Mantar<br />
                Turşulanmış Kırmızı Soğan<br />
                Jülyen Patates
              </p>
            </div>
          </div>
          <div class="burger-item">
            <img
              src="images/burgers/tavuk.jpg"
              alt="Klasik Tavuk Burger"
              class="burger-image"
            />
            <div class="burger-bilgi">
              <h3 class="burger-isim">Klasik Tavuk Burger</h3>
              <p class="burger-aciklama">
                <strong>Malzemeler:</strong><br />
                Brioche tarzı yumuşak ekmek<br />
                Sarımsaklı mayonez<br />
                Marul ve lahana karışımı<br />
                Kızarmış tavuk fileto (çıtır)<br />
                Hamburger turşusu<br />
                Parmesan rendesi
              </p>
            </div>
          </div>
        </div>
        <button class="ileri">&#10095;</button>
      </div>
    </section>
  <!-- kayar yazı-->
  <div class="bilgi-seridi">
    <p>
      Haftanın Her Günü 10:00 - 22:00 Açığız | Pazartesi Günleri Kapalıyız | Happy Hour: 15:00 - 17:00 Arası %30 İndirim!
    </p>
  </div>
<!-- kayar yazı sonu-->

    <h1 class="animasyon-baslik"> VAZGEÇEMEDIKLERINIZ: </h1>
          <!-- SCROLL ANIMASYONU BURAYA GELECEK !!!! -->
<section class="animasyon-bolumu">
            <div class="animasyon-kutu animasyon-sol">
              <img src="images/burgers/double.png" class="burger-img" alt="Burger" />
              <span class="vazgec-sol">
              <h3>Double Cheeseburger</h3>
                <p>Vazgeçemememizin bir sebebi olmalı</p>
              </span>
            </div>
          
            <div class="animasyon-kutu animasyon-sag">
            <span class="vazgec-sag">
              <p>Bacon ve <span style="color:goldenrod;">Cheddar</span> peynirinin <br> eşsiz uyumu...</p>
              <h3>Baconburger with <span style="color:goldenrod;">Cheese</span></h3>
            </span>
              <img src="images/burgers/bacon.png" class="burger-img" alt="Burger" />
            </div>
          </section>
          <!-- BU IKI ARAYA GELMELI !!! -->
    

          
    <footer class="site-footer">
      <div class="footer-container">
        <!-- Hakkımızda -->
        <div class="footer-section about">
          <img src="images/burgery.png" alt="Logo" class="logo" />
          <h3 class="footer-baslik">Hakkımızda</h3>
          <p>
            Burgery, 2025 yılından beri hizmetinizde.
          </p>
        </div>

        <!-- İletişim -->
        <div class="footer-section contact">
          <img style="width: 310px;"src="images/footer-space.png"/>
          <h3 class="footer-baslik">İletişim</h3>
          <ul>
            <li>📞 +90 530 332 72 08</li>
            <li>✉️ 032390049@ogr.uludag.edu.tr</li>
            <li>📍 Nilüfer / Bursa</li>
          </ul>
        </div>

        <!-- Hızlı Linkler -->
        <div class="footer-section links">
          <img style="width: 310px;"src="images/footer-space.png"/>
          <h3 class="footer-baslik">Hızlı Linkler</h3>
          <ul>
            <li><a href="menu.html">Menü</a></li>
            <li><a href="konum.html">Konum</a></li>
            <li><a href="main2.html">Ana Menü</a></li>
          </ul>
        </div>

        <!-- Sosyal Medya -->
        <div class="footer-section social">
          <img style="width: 310px;"src="images/footer-space.png"/>
          <h3 class="footer-baslik">Bizi Takip Edin</h3>
          <div class="social-icons">
            <a href="https://www.instagram.com/ozanaydinw/"><img src="images/footer/instagram.jpg" alt="Instagram"/></a>
          </div>
        </div>
      </div>
      <!-- Alt Kısım -->
      <div class="footer-bottom">
        <p>
          © 2025 FastFoodCo. Tüm hakları saklıdır. |
          <a href="#">Gizlilik Politikası</a>
        </p>
      </div>
    </footer>
    
  </body>
  </html>
  
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Slider Kodları
    const wrapper = document.querySelector(".burger-wrapper");
    const items = document.querySelectorAll(".burger-item");
    const prevBtn = document.querySelector(".geri");
    const nextBtn = document.querySelector(".ileri");
    let currentIndex = 0;
    const totalItems = items.length;

    function updateSlider() {
      wrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    prevBtn.addEventListener("click", function () {
      currentIndex = (currentIndex - 1 + totalItems) % totalItems;
      updateSlider();
    });

    nextBtn.addEventListener("click", function () {
      currentIndex = (currentIndex + 1) % totalItems;
      updateSlider();
    });

    setInterval(function () {
      currentIndex = (currentIndex + 1) % totalItems;
      updateSlider();
    }, 5000);

    // SCROLL ANİMASYON KODU
    const observerOptions = {
      root: null,
      rootMargin: "0px",
      threshold: 0.4,
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("gorundu");
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    const animasyonElementleri = document.querySelectorAll(".animasyon-sol, .animasyon-sag");
    animasyonElementleri.forEach((el) => observer.observe(el));
  });

  // Ses açma kodu
  document.addEventListener("click", function oncePlay() {
    const ses = document.getElementById("intro-sound");
    const dahaOnceCaldi = sessionStorage.getItem("sesCaldi");

    if (!dahaOnceCaldi) {
      ses.play();
      sessionStorage.setItem("sesCaldi", "true");
    }

    document.removeEventListener("click", oncePlay);

    
  });

  // Kullanıcı adı alma ve gösterme
  document.addEventListener("DOMContentLoaded", async () => {
    const eposta = localStorage.getItem("oturumEposta");
    const authLink = document.getElementById("auth-link");
    const logoutLink = document.getElementById("logout-link");
    
    try {
      const response = await fetch(`http://localhost:5067/kullanici/isim?eposta=${eposta}`);
  
      const customerName = await getCustomerNameFromEmail(eposta);
      if (customerName && authLink) {
        authLink.textContent = customerName;
        authLink.href = "#"; // İsteğe bağlı: başka sayfaya yönlenmesini engeller
      } else {
        // Kullanıcı giriş yapmamışsa
        authLink.textContent = "Giriş Yap";
        authLink.href = "login.html";
        logoutLink.style.display = "none";  // Çıkış yap butonunu gizle
      }

      // Çıkış yap butonuna tıklandığında yapılacak işlemler
      logoutLink.addEventListener("click", function () {
        localStorage.removeItem("oturumEposta");  // Oturum bilgisini temizle
        sessionStorage.removeItem("sesCaldi");  // Ses çaldı bilgisi varsa temizle
        window.location.href = "login.html";  // Giriş sayfasına yönlendir
      });

    } catch (err) {
      console.error("Kullanıcı adı alınamadı:", err);
    }
  });

async function getCustomerNameFromEmail(eposta) {
  try {
    const response = await fetch(`http://localhost:5067/kullanici/isim?eposta=${eposta}`);
    const data = await response.json();
    console.log(data.ad);
    return data.ad;  // İsim dönülüyor
  } catch (err) {
    console.error("Kullanıcı adı alınamadı:", err);
    return null;
  }
}

</script>